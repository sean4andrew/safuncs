<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate Power for Survival Experiments — Surv_Power • safuncs</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate Power for Survival Experiments — Surv_Power"><meta name="description" content='Calculates power of global and/or pairwise hypothesis tests for survival studies with a wide range of experimental designs. This flexibility is enabled by the simulation-based nature of the power calculation, using the modular Surv_Simul() to simulate survival data. Power calculations can account for inter-tank variation by using a mixed cox proportional hazards model (set argument model = "coxph_glmm"). Additionally, power calculations can account for multiplicity of pairwise comparisons using the argument pairwise_corr. Users may compare power across different experimental designs by specifying each design as list elements in Surv_Simul(). Power values are returned as dataframes and plots.'><meta property="og:description" content='Calculates power of global and/or pairwise hypothesis tests for survival studies with a wide range of experimental designs. This flexibility is enabled by the simulation-based nature of the power calculation, using the modular Surv_Simul() to simulate survival data. Power calculations can account for inter-tank variation by using a mixed cox proportional hazards model (set argument model = "coxph_glmm"). Additionally, power calculations can account for multiplicity of pairwise comparisons using the argument pairwise_corr. Users may compare power across different experimental designs by specifying each design as list elements in Surv_Simul(). Power values are returned as dataframes and plots.'><meta property="og:image" content="https://sean4andrew.github.io/safuncs/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">safuncs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/safuncs.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sean4andrew/safuncs/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calculate Power for Survival Experiments</h1>
      <small class="dont-index">Source: <a href="https://github.com/sean4andrew/safuncs/blob/master/R/safuncs.R" class="external-link"><code>R/safuncs.R</code></a></small>
      <div class="d-none name"><code>Surv_Power.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculates power of global and/or pairwise hypothesis tests for survival studies with a wide range of experimental designs. This flexibility is enabled by the simulation-based nature of the power calculation, using the modular <code><a href="Surv_Simul.html">Surv_Simul()</a></code> to simulate survival data. Power calculations can account for inter-tank variation by using a mixed cox proportional hazards model (set argument <code>model = "coxph_glmm"</code>). Additionally, power calculations can account for multiplicity of pairwise comparisons using the argument <code>pairwise_corr</code>. Users may compare power across different experimental designs by specifying each design as list elements in <code><a href="Surv_Simul.html">Surv_Simul()</a></code>. Power values are returned as dataframes and plots.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Surv_Power</span><span class="op">(</span></span>
<span>  simul_db <span class="op">=</span> <span class="va">simul_db_ex</span>,</span>
<span>  global_test <span class="op">=</span> <span class="st">"logrank"</span>,</span>
<span>  model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pairwise_test <span class="op">=</span> <span class="st">"logrank"</span>,</span>
<span>  pairwise_corr <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  plot_out <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  plot_lines <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"List Element #"</span>,</span>
<span>  xnames <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  plot_save <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-simul-db">simul_db<a class="anchor" aria-label="anchor" href="#arg-simul-db"></a></dt>
<dd><p>The simulated survival dataframe from <code><a href="Surv_Simul.html">Surv_Simul()</a></code>.</p></dd>


<dt id="arg-global-test">global_test<a class="anchor" aria-label="anchor" href="#arg-global-test"></a></dt>
<dd><p>A character vector representing the method(s) used for global hypothesis testing of significance of Trt.ID. Methods available are: 'logrank', 'wald', 'score', 'LRT'. 'logrank' represents the global logrank test of significance. The latter three methods are standard global hypothesis testing methods for model fits. They are only available when the argument <code>model</code> is specified (i.e. not NULL).'wald' represents the Wald Chisquare Test (also known as joint test) which assesses whether model parameters (log(hazard ratios)) are significantly different than 0 (i.e. HRs =/= 1). This test can be done for various cox-proportional hazards model that could be relevant to our studies (coxph_glm, coxph_glmm, coxph_gee). Due to its wide applicability, while also producing practically the same p-value (most of the time) compared to the other two test for models, 'wald' is recommended of the three. 'score' represents the Lagrange multiplier or Score test. 'LRT' represents the likelihood ratio test. Defaults to 'logrank' for now since it is the most commonly used by our researchers.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>A character vector representing the model(s) to fit for hypothesis testing. Models available are: 'coxph_glm' and 'coxph_glmm'. 'coxph_glm' represents the standard cox proportional hazard model fitted using <code><a href="https://rdrr.io/pkg/survival/man/coxph.html" class="external-link">survival::coxph()</a></code> with Trt.ID as a fixed factor. 'coxph_glmm' represents the mixed cox proportional hazard model fitted using <code><a href="https://rdrr.io/pkg/coxme/man/coxme.html" class="external-link">coxme::coxme()</a></code> with Trt.ID as a fixed factor and Tank.ID as a random factor to account for inter-tank variation. Defaults to NULL where no model is used for hypothesis tests.</p></dd>


<dt id="arg-pairwise-test">pairwise_test<a class="anchor" aria-label="anchor" href="#arg-pairwise-test"></a></dt>
<dd><p>A character vector representing the method(s) used for pairwise comparisons. Use "logrank" to calculate power for logrank tests comparing different treatments. Use "EMM" to calculate power using Estimated Marginal Means based on model estimates (from 'coxph_glm' and/or 'coxph_glmm'). Defaults to "logrank".</p></dd>


<dt id="arg-pairwise-corr">pairwise_corr<a class="anchor" aria-label="anchor" href="#arg-pairwise-corr"></a></dt>
<dd><p>A character vector representing the method(s) used to adjust p-values for multiplicity of pairwise comparisons. The adjustment method affects power of the pairwise comparisons. Methods available are: "tukey", "holm", "hochberg", "hommel", "bonferroni", "BH", "BY", and "none". In <b>Details</b>, I discuss categories of the adjustment methods and provided a recommendation for "BH". Defaults to "none" for now.</p></dd>


<dt id="arg-plot-out">plot_out<a class="anchor" aria-label="anchor" href="#arg-plot-out"></a></dt>
<dd><p>Whether to display plot(s) illustrating power from global and/or pairwise hypothesis tests. Defaults to TRUE</p></dd>


<dt id="arg-plot-lines">plot_lines<a class="anchor" aria-label="anchor" href="#arg-plot-lines"></a></dt>
<dd><p>Whether to plot lines connecting points of the same "group" in the plot output. Defaults to TRUE.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>A string representing the x-axis title. Defaults to "List Element #".</p></dd>


<dt id="arg-xnames">xnames<a class="anchor" aria-label="anchor" href="#arg-xnames"></a></dt>
<dd><p>Vector of names for x-axis labels. Defaults to NULL where names are the list element numbers from <code><a href="Surv_Gen.html">Surv_Gen()</a></code>.</p></dd>


<dt id="arg-plot-save">plot_save<a class="anchor" aria-label="anchor" href="#arg-plot-save"></a></dt>
<dd><p>Whether to save plots as a .tiff. Defaults to TRUE.</p></dd>


<dt id="arg-data-out">data_out<a class="anchor" aria-label="anchor" href="#arg-data-out"></a></dt>
<dd><p>Whether to output dataframe(s) containing the power values calculated for the global and/or pairwise hypothesis tests. Defaults to TRUE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Output. An SE for proportions (calculated using the binomial formula)</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The power calculation here follows the standard procedure for power calculation using simulations. Initially, hypothetical future sample sets were simulated using <code><a href="Surv_Simul.html">Surv_Simul()</a></code>. For each sample set, a p-value is calculated. The percentage of p-values below 0.05 (positives) were then calculated, representing power. The percent positives may also represent false positive rate if the population/truth in the simulation process are identical between treatments.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="https://sean4andrew.github.io/safuncs/reference/Surv_Power.html">Link</a> for web documentation.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">Placeholder</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> object 'Placeholder' not found</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sean Andrew.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

